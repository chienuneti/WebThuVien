# ğŸ¯ Visual Guide - Há»‡ Thá»‘ng ÄÄƒng KÃ½ & ÄÄƒng Nháº­p

## ğŸ“± User Interface

### Trang ÄÄƒng KÃ½ (Register)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ÄÄƒng KÃ½ TÃ i Khoáº£n             â”‚
â”‚   Táº¡o tÃ i khoáº£n má»›i             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [âœ“] (hoáº·c âš ï¸) Há» vÃ  TÃªn         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [âœ“] (hoáº·c âš ï¸) Email             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [âœ“] (hoáº·c âš ï¸) Sá»‘ Äiá»‡n Thoáº¡i     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [âœ“] (hoáº·c âš ï¸) TÃ i Khoáº£n         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [âœ“] (hoáº·c âš ï¸) Máº­t Kháº©u [ğŸ‘ï¸]    â”‚
â”‚                    Hint: Chá»¯ hoa, thÆ°á»ng, sá»‘, kÃ½ tá»± Ä‘áº·c biá»‡t
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [âœ“] (hoáº·c âš ï¸) XÃ¡c Nháº­n Máº­t Kháº©u â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜‘ï¸ TÃ´i Ä‘á»“ng Ã½ vá»›i Äiá»u khoáº£n    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        [   ÄÄ‚NG KÃ   ]          â”‚
â”‚            hoáº·c
â”‚      [  ÄÄƒng KÃ½ Google ]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ÄÃ£ cÃ³ tÃ i khoáº£n? ÄÄƒng nháº­p      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Color Scheme:
âœ“ Valid input: Border #667eea (blue)
âš ï¸ Invalid: Border #e74c3c (red), Background #fef5f5

Background: Gradient (purple to blue)
Card: White with shadow
```

### Trang ÄÄƒng Nháº­p (Login)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ÄÄƒng Nháº­p                     â”‚
â”‚   Truy cáº­p tÃ i khoáº£n            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [âœ“] TÃ i khoáº£n hoáº·c Email        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [âœ“] Máº­t Kháº©u [ğŸ‘ï¸]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜‘ï¸ Ghi nhá»› tÃ´i  QuÃªn máº­t kháº©u?  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       [   ÄÄ‚NG NHáº¬P  ]          â”‚
â”‚            hoáº·c
â”‚     [  ÄÄƒng Nháº­p Google ]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ChÆ°a cÃ³ tÃ i khoáº£n? ÄÄƒng kÃ½      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Features:
- "Remember me" checkbox
- Forgot password link
- Google OAuth button
```

## ğŸ—ï¸ Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Angular 19 Frontend                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Register     â”‚      â”‚ Login        â”‚          â”‚
â”‚  â”‚ Component    â”‚      â”‚ Component    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â”‚                     â”‚                   â”‚
â”‚         â”‚  Forms & Validation â”‚                   â”‚
â”‚         â”‚  (ReactiveFormsModule)                  â”‚
â”‚         â”‚                     â”‚                   â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                   â”‚                               â”‚
â”‚                   â–¼                               â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚          â”‚  AuthService     â”‚                    â”‚
â”‚          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
â”‚          â”‚ â€¢ register()     â”‚                    â”‚
â”‚          â”‚ â€¢ login()        â”‚                    â”‚
â”‚          â”‚ â€¢ logout()       â”‚                    â”‚
â”‚          â”‚ â€¢ getToken()     â”‚                    â”‚
â”‚          â”‚ â€¢ isAuthenticatedâ”‚                    â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                   â”‚                               â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚         â”‚  HttpClient        â”‚                   â”‚
â”‚         â”‚  (Angular HTTP)    â”‚                   â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                   â”‚                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ HTTP Requests
                    â”‚ (JSON payloads)
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Backend API           â”‚
        â”‚  (Node.js/Express)     â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ POST /register        â”‚
        â”‚ POST /login           â”‚
        â”‚ POST /google-login    â”‚
        â”‚ POST /logout          â”‚
        â”‚ GET /profile          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Database              â”‚
        â”‚  (MongoDB)             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Data Flow

### Registration Flow

```
User Input
    â†“
Form Validation (Client-side)
    â†“
RegisterComponent.onSubmit()
    â†“
AuthService.register(RegisterRequest)
    â†“
HTTP POST /api/auth/register
    â†“
Backend Validation & Processing
    â†“
Save to Database
    â†“
Generate JWT Token
    â†“
Return AuthResponse
    â†“
AuthService stores token & user
    â†“
BehaviorSubjects update (user$, authenticated$)
    â†“
Navigate to home page
    â†“
Component displays success message
```

### Login Flow

```
User Input
    â†“
Form Validation
    â†“
LoginComponent.onSubmit()
    â†“
AuthService.login(LoginRequest)
    â†“
HTTP POST /api/auth/login
    â†“
Backend verifies credentials
    â†“
Generate JWT Token
    â†“
Return AuthResponse
    â†“
AuthService stores token & user
    â†“
Optional: Save "remembered username" to localStorage
    â†“
Navigate to home page
    â†“
Can now use token for authenticated requests
```

## ğŸ—‚ï¸ File Organization

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ register/
â”‚   â”‚   â”‚   â”œâ”€â”€ TS Logic
â”‚   â”‚   â”‚   â”‚  â€¢ Form initialization
â”‚   â”‚   â”‚   â”‚  â€¢ Validation logic
â”‚   â”‚   â”‚   â”‚  â€¢ Error messages
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ HTML Template
â”‚   â”‚   â”‚   â”‚  â€¢ Form fields
â”‚   â”‚   â”‚   â”‚  â€¢ Error display
â”‚   â”‚   â”‚   â”‚  â€¢ Buttons
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ CSS Styling
â”‚   â”‚   â”‚      â€¢ Component styles
â”‚   â”‚   â”‚      â€¢ Responsive design
â”‚   â”‚   â”‚      â€¢ Animations
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ login/
â”‚   â”‚       â””â”€â”€ (Similar structure)
â”‚   â”‚
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ auth.model.ts
â”‚   â”‚      â€¢ User interface
â”‚   â”‚      â€¢ RegisterRequest interface
â”‚   â”‚      â€¢ LoginRequest interface
â”‚   â”‚      â€¢ AuthResponse interface
â”‚   â”‚
â”‚   â”œâ”€â”€ shared/
â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚       â””â”€â”€ auth.service.ts
â”‚   â”‚          â€¢ API methods
â”‚   â”‚          â€¢ Token management
â”‚   â”‚          â€¢ BehaviorSubjects
â”‚   â”‚          â€¢ Error handling
â”‚   â”‚
â”‚   â”œâ”€â”€ app.routes.ts
â”‚   â”‚  â”œâ”€â”€ /dang-ki â†’ RegisterComponent
â”‚   â”‚  â””â”€â”€ /dang-nhap â†’ LoginComponent
â”‚   â”‚
â”‚   â””â”€â”€ app.config.ts
â”‚      â””â”€â”€ providers (including HttpClient)
```

## ğŸ” Security Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Frontend Security                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Input validation (email, phone)       â”‚
â”‚ â€¢ Password strength validation          â”‚
â”‚ â€¢ Password visibility toggle            â”‚
â”‚ â€¢ Error message sanitization            â”‚
â”‚ â€¢ XSS prevention (Angular sanitizer)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ HTTPS
               â”‚ (encrypted data)
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Backend Security                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Server-side input validation          â”‚
â”‚ â€¢ SQL injection prevention              â”‚
â”‚ â€¢ Password hashing (bcryptjs)           â”‚
â”‚ â€¢ JWT token signing                     â”‚
â”‚ â€¢ Rate limiting                         â”‚
â”‚ â€¢ CORS configuration                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Token Management                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Access Token:   24 hour expiry          â”‚
â”‚ Refresh Token:  7 day expiry            â”‚
â”‚ Storage: localStorage (vulnerable)      â”‚
â”‚ Better: httpOnly cookie (recommended)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Component Lifecycle

### RegisterComponent Lifecycle

```
1. Constructor
   â””â”€ Initialize FormBuilder

2. ngOnInit
   â””â”€ Check if already logged in
      â””â”€ If yes, redirect to home

3. User fills form & clicks submit

4. Form validation
   â””â”€ Check validators
   â””â”€ Show error messages

5. onSubmit()
   â””â”€ Call authService.register()
   â””â”€ Subscribe to Observable
   â””â”€ Show loading state

6. Response received
   â””â”€ Success: Navigate to home
   â””â”€ Error: Show error message

7. Component destroyed
   â””â”€ Observable auto-unsubscribe (async pipe)
```

## ğŸ¨ Styling System

```
Colors:
  Primary Blue:     #667eea
  Secondary Purple: #764ba2
  Error Red:        #e74c3c
  Success Green:    #3c3
  Background:       #fafafa

Layout:
  Max Width:  450px (desktop)
  Mobile:     100% (responsive)
  Padding:    40px (desktop), 20px (mobile)
  Border Radius: 8px-12px

Typography:
  H1: 28px, bold (24px mobile)
  Labels: 14px, 600 weight
  Inputs: 14px, 16px (mobile)
  Hints: 12px, gray

Spacing:
  Form gap: 18px
  Field gap: 6px (label to input)
  Button padding: 12px 16px (10px 14px mobile)

Transitions:
  All: 0.3s ease
  Focus: 0.3s ease
  Hover: 0.3s ease
```

## ğŸ§ª Testing Structure

```
Test Files:
â”œâ”€â”€ register.component.spec.ts
â”‚  â”œâ”€â”€ Form initialization
â”‚  â”œâ”€â”€ Email validation
â”‚  â”œâ”€â”€ Password validation
â”‚  â”œâ”€â”€ Phone validation
â”‚  â”œâ”€â”€ Password confirmation
â”‚  â”œâ”€â”€ Field error display
â”‚  â””â”€â”€ Submit button state
â”‚
â”œâ”€â”€ login.component.spec.ts
â”‚  â”œâ”€â”€ Component creation
â”‚  â”œâ”€â”€ Form validation
â”‚  â”œâ”€â”€ Password visibility
â”‚  â”œâ”€â”€ Remember me
â”‚  â””â”€â”€ Navigation methods
â”‚
â””â”€â”€ auth.service.spec.ts
   â”œâ”€â”€ Register success
   â”œâ”€â”€ Login success
   â”œâ”€â”€ Token storage
   â”œâ”€â”€ Logout
   â”œâ”€â”€ Authentication status
   â””â”€â”€ Error handling

Total: 24 tests
```

## ğŸ”„ Integration Points

```
Frontend â”€â”€HTTPâ”€â†’ Backend â”€â”€DBâ”€â†’ Storage
   â†‘                â†“
   â””â”€ Token â”€â”€â”€â”€â”€â”€ JWT â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Verify

Frontend Components:
  RegisterComponent â”€â”€APIâ”€â†’ AuthService
  LoginComponent    â”€â”€APIâ”€â†’ AuthService

AuthService:
  â”œâ”€ Calls HttpClient
  â”œâ”€ Manages tokens
  â”œâ”€ Emits state changes
  â””â”€ Handles errors
```

## ğŸ“ˆ Performance Optimization

```
Lazy Loading:
  â€¢ Components lazy-loaded by routes

Tree Shaking:
  â€¢ Standalone components (no NgModule overhead)
  â€¢ Strict mode enabled

Bundle Optimization:
  â€¢ Production budgets: 500KB warning, 1MB error
  â€¢ Component styles: 4KB warning, 8KB error

Change Detection:
  â€¢ Event coalescing enabled
  â€¢ Event replay for hydration
```

## ğŸ¯ Success Criteria

âœ… Compilation: 0 errors, 0 warnings
âœ… Form Validation: Real-time error messages
âœ… API Integration: Ready for backend
âœ… Testing: 24 unit tests defined
âœ… Styling: Responsive on mobile & desktop
âœ… Accessibility: Semantic HTML, form labels
âœ… Documentation: Complete API & backend guide
âœ… Security: Input validation, token structure

---

**This guide provides a visual overview of the authentication system.**
**For detailed implementation, see the individual documentation files.**
