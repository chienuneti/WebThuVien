<div class="browse-container">
  <!-- Header -->
  <div class="browse-header">
    <button (click)="goBack()" class="btn-back">â† Quay láº¡i</button>
    <div class="header-info">
      <h1>{{ title }}</h1>
      <span class="badge-count" *ngIf="totalItems > 0">Tá»•ng: {{ totalItems }}</span>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loader-wrapper">
    <div class="spinner"></div>
    <p>Äang táº£i dá»¯ liá»‡u...</p>
  </div>

  <!-- Main Grid -->
  <div class="browse-grid" *ngIf="!isLoading">
    <div class="item-group" *ngFor="let item of items">
      
      <!-- Tháº» chÃ­nh -->
      <div class="item-card" (click)="selectItem(item)" style="height: 150px;">
        <div class="icon">
          <span *ngIf="category === 'authors'">ğŸ‘¤</span>
          <span *ngIf="category === 'collections'">ğŸ“š</span>
          <span *ngIf="category === 'communities'">ğŸ›ï¸</span>
          <span *ngIf="category === 'document-types'">ğŸ“„</span>
        </div>
        <div class="info">
          <h3>{{ item.name || item.title || item }}</h3>
          <p *ngIf="item.description" class="description">{{ item.description }}</p>
        </div>
      </div>

      <!-- Khá»‘i má»¥c con (Communities) -->
      <div class="sub-items-container" *ngIf="item.children && item.children.length > 0">
        <div class="sub-item" *ngFor="let sub of item.children" (click)="selectItem(sub)">
          <span class="tree-icon">â†³</span>
          <span class="sub-item-name">{{ sub.name }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="!isLoading && items.length === 0" class="empty-state">
    <p>KhÃ´ng tÃ¬m tháº¥y dá»¯ liá»‡u trong má»¥c nÃ y.</p>
  </div>

  <!-- THANH PHÃ‚N TRANG (Pagination) -->
  <div class="pagination-bar" *ngIf="!isLoading && totalPages > 1">
    <button class="btn-page" 
            [disabled]="currentPage === 1" 
            (click)="changePage(currentPage - 1)">
      Â« TrÆ°á»›c
    </button>
    
    <div class="page-numbers">
      <span *ngFor="let p of [].constructor(totalPages); let i = index" 
            class="page-num" 
            [class.active]="(i + 1) === currentPage"
            (click)="changePage(i + 1)">
        {{ i + 1 }}
      </span>
    </div>

    <button class="btn-page" 
            [disabled]="currentPage === totalPages" 
            (click)="changePage(currentPage + 1)">
      Sau Â»
    </button>
  </div>
</div>